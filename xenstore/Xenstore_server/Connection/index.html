<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Connection (xenstore.Xenstore_server.Connection)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">xenstore</a> &#x00BB; <a href="../index.html">Xenstore_server</a> &#x00BB; Connection</nav><h1>Module <code>Xenstore_server.Connection</code></h1></header><dl><dt class="spec value" id="val-info"><a href="#val-info" class="anchor"></a><code><span class="keyword">val </span>info : (<span class="type-var">'a</span>, unit, string, unit) Stdlib.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-error"><a href="#val-error" class="anchor"></a><code><span class="keyword">val </span>error : (<span class="type-var">'a</span>, unit, string, unit) Stdlib.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl><dl><dt class="spec exception" id="exception-End_of_file"><a href="#exception-End_of_file" class="anchor"></a><code><span class="keyword">exception </span></code><code><span class="exception">End_of_file</span></code></dt></dl><dl><dt class="spec type" id="type-watch"><a href="#type-watch" class="anchor"></a><code><span class="keyword">type </span>watch</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-watch.con" class="anchored"><td class="def field"><a href="#type-watch.con" class="anchor"></a><code>con : <a href="index.html#type-t">t</a>;</code></td></tr><tr id="type-watch.token" class="anchored"><td class="def field"><a href="#type-watch.token" class="anchor"></a><code>token : string;</code></td></tr><tr id="type-watch.name" class="anchored"><td class="def field"><a href="#type-watch.name" class="anchor"></a><code>name : <a href="../Store/Name/index.html#type-t">Store.Name.t</a>;</code></td></tr><tr id="type-watch.count" class="anchored"><td class="def field"><a href="#type-watch.count" class="anchor"></a><code><span class="keyword">mutable </span>count : int;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">and </span>t</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-t.address" class="anchored"><td class="def field"><a href="#type-t.address" class="anchor"></a><code>address : <a href="../../Xs_protocol/index.html#type-address">Xs_protocol.address</a>;</code></td></tr><tr id="type-t.interface" class="anchored"><td class="def field"><a href="#type-t.interface" class="anchor"></a><code>interface : (<span class="keyword">module </span><a href="../Namespace/module-type-IO/index.html">Namespace.IO</a>) option;</code></td></tr><tr id="type-t.domid" class="anchored"><td class="def field"><a href="#type-t.domid" class="anchor"></a><code>domid : int;</code></td></tr><tr id="type-t.domstr" class="anchored"><td class="def field"><a href="#type-t.domstr" class="anchor"></a><code>domstr : string;</code></td></tr><tr id="type-t.idx" class="anchored"><td class="def field"><a href="#type-t.idx" class="anchor"></a><code>idx : int;</code></td></tr><tr id="type-t.transactions" class="anchored"><td class="def field"><a href="#type-t.transactions" class="anchor"></a><code>transactions : (int32, <a href="../Transaction/index.html#type-t">Transaction.t</a>) Stdlib.Hashtbl.t;</code></td></tr><tr id="type-t.next_tid" class="anchored"><td class="def field"><a href="#type-t.next_tid" class="anchor"></a><code><span class="keyword">mutable </span>next_tid : int32;</code></td></tr><tr id="type-t.watches" class="anchored"><td class="def field"><a href="#type-t.watches" class="anchor"></a><code>watches : (<a href="../Store/Name/index.html#type-t">Store.Name.t</a>, <a href="index.html#type-watch">watch</a> list) Stdlib.Hashtbl.t;</code></td></tr><tr id="type-t.nb_watches" class="anchored"><td class="def field"><a href="#type-t.nb_watches" class="anchor"></a><code><span class="keyword">mutable </span>nb_watches : int;</code></td></tr><tr id="type-t.nb_dropped_watches" class="anchored"><td class="def field"><a href="#type-t.nb_dropped_watches" class="anchor"></a><code><span class="keyword">mutable </span>nb_dropped_watches : int;</code></td></tr><tr id="type-t.stat_nb_ops" class="anchored"><td class="def field"><a href="#type-t.stat_nb_ops" class="anchor"></a><code><span class="keyword">mutable </span>stat_nb_ops : int;</code></td></tr><tr id="type-t.perm" class="anchored"><td class="def field"><a href="#type-t.perm" class="anchor"></a><code><span class="keyword">mutable </span>perm : <a href="../Perms/index.html#type-t">Perms.t</a>;</code></td></tr><tr id="type-t.watch_events" class="anchored"><td class="def field"><a href="#type-t.watch_events" class="anchor"></a><code>watch_events : (string<span class="keyword"> * </span>string) Stdlib.Queue.t;</code></td></tr><tr id="type-t.cvar" class="anchored"><td class="def field"><a href="#type-t.cvar" class="anchor"></a><code>cvar : unit Lwt_condition.t;</code></td></tr><tr id="type-t.domainpath" class="anchored"><td class="def field"><a href="#type-t.domainpath" class="anchor"></a><code>domainpath : <a href="../Store/Path/index.html#type-t">Store.Path.t</a>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-by_address"><a href="#val-by_address" class="anchor"></a><code><span class="keyword">val </span>by_address : (<a href="../../Xs_protocol/index.html#type-address">Xs_protocol.address</a>, <a href="index.html#type-t">t</a>) Stdlib.Hashtbl.t</code></dt><dt class="spec value" id="val-by_index"><a href="#val-by_index" class="anchor"></a><code><span class="keyword">val </span>by_index : (int, <a href="index.html#type-t">t</a>) Stdlib.Hashtbl.t</code></dt><dt class="spec value" id="val-watches"><a href="#val-watches" class="anchor"></a><code><span class="keyword">val </span>watches : (string, <a href="index.html#type-watch">watch</a> list) <a href="../Trie/index.html#type-t">Trie.t</a> Stdlib.ref</code></dt><dt class="spec value" id="val-list_of_watches"><a href="#val-list_of_watches" class="anchor"></a><code><span class="keyword">val </span>list_of_watches : unit <span>&#45;&gt;</span> string list</code></dt><dt class="spec value" id="val-watch_create"><a href="#val-watch_create" class="anchor"></a><code><span class="keyword">val </span>watch_create : con:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> name:<a href="../Store/Name/index.html#type-t">Store.Name.t</a> <span>&#45;&gt;</span> token:string <span>&#45;&gt;</span> <a href="index.html#type-watch">watch</a></code></dt><dt class="spec value" id="val-get_con"><a href="#val-get_con" class="anchor"></a><code><span class="keyword">val </span>get_con : <a href="index.html#type-watch">watch</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-number_of_transactions"><a href="#val-number_of_transactions" class="anchor"></a><code><span class="keyword">val </span>number_of_transactions : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-anon_id_next"><a href="#val-anon_id_next" class="anchor"></a><code><span class="keyword">val </span>anon_id_next : int Stdlib.ref</code></dt><dt class="spec value" id="val-destroy"><a href="#val-destroy" class="anchor"></a><code><span class="keyword">val </span>destroy : <a href="../../Xs_protocol/index.html#type-address">Xs_protocol.address</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-counter"><a href="#val-counter" class="anchor"></a><code><span class="keyword">val </span>counter : int Stdlib.ref</code></dt><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val </span>create : <a href="../../Xs_protocol/index.html#type-address">Xs_protocol.address</a> <span>&#45;&gt;</span> (<span class="keyword">module </span><a href="../Namespace/module-type-IO/index.html">Namespace.IO</a>) option <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-restrict"><a href="#val-restrict" class="anchor"></a><code><span class="keyword">val </span>restrict : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-get_watches"><a href="#val-get_watches" class="anchor"></a><code><span class="keyword">val </span>get_watches : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Store/Name/index.html#type-t">Store.Name.t</a> <span>&#45;&gt;</span> <a href="index.html#type-watch">watch</a> list</code></dt><dt class="spec value" id="val-add_watch"><a href="#val-add_watch" class="anchor"></a><code><span class="keyword">val </span>add_watch : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Store/Name/index.html#type-t">Store.Name.t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-watch">watch</a></code></dt><dt class="spec value" id="val-del_watch"><a href="#val-del_watch" class="anchor"></a><code><span class="keyword">val </span>del_watch : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Store/Name/index.html#type-t">Store.Name.t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-fire_one"><a href="#val-fire_one" class="anchor"></a><code><span class="keyword">val </span>fire_one : <a href="../Store/Name/index.html#type-t">Store.Name.t</a> option <span>&#45;&gt;</span> <a href="index.html#type-watch">watch</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-fire"><a href="#val-fire" class="anchor"></a><code><span class="keyword">val </span>fire : (<a href="../../Xs_protocol/Op/index.html#type-t">Xs_protocol.Op.t</a><span class="keyword"> * </span><a href="../Store/Name/index.html#type-t">Store.Name.t</a>) <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-find_next_tid"><a href="#val-find_next_tid" class="anchor"></a><code><span class="keyword">val </span>find_next_tid : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int32</code></dt><dt class="spec value" id="val-register_transaction"><a href="#val-register_transaction" class="anchor"></a><code><span class="keyword">val </span>register_transaction : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Store/index.html#type-t">Store.t</a> <span>&#45;&gt;</span> int32</code></dt><dt class="spec value" id="val-unregister_transaction"><a href="#val-unregister_transaction" class="anchor"></a><code><span class="keyword">val </span>unregister_transaction : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int32 <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-get_transaction"><a href="#val-get_transaction" class="anchor"></a><code><span class="keyword">val </span>get_transaction : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int32 <span>&#45;&gt;</span> <a href="../Transaction/index.html#type-t">Transaction.t</a></code></dt><dt class="spec value" id="val-mark_symbols"><a href="#val-mark_symbols" class="anchor"></a><code><span class="keyword">val </span>mark_symbols : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-stats"><a href="#val-stats" class="anchor"></a><code><span class="keyword">val </span>stats : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int<span class="keyword"> * </span>int</code></dt><dt class="spec value" id="val-debug"><a href="#val-debug" class="anchor"></a><code><span class="keyword">val </span>debug : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt></dl><div class="spec module" id="module-Interface"><a href="#module-Interface" class="anchor"></a><code><span class="keyword">module </span><a href="Interface/index.html">Interface</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></div></body></html>